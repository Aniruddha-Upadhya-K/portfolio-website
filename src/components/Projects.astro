---
import 'tailwindcss';
import ProjDisplay from './ProjDisplay.astro';
import { projects } from '../data/projects';

const initialProj = projects.slice(0, 3); 
const finalProj = projects.slice(3);
---

<div id="projects" class="md:pt-32 pt-16 md:pd-16 pd-8 flex flex-col md:gap-8 gap-4">
  <h1 class="text-heading">projects</h1>
  <div class="flex flex-col md:gap-10 gap-8">
    <div class="flex flex-col md:gap-10 gap-8">
      {initialProj.map((project) => (
        <ProjDisplay project = {project}/>
      ))}
    </div>
    <div class="flex flex-col-reverse items-center">
      <input class="hidden" type="checkbox" id="collapsible">
      <label for="collapsible" class="cursor-pointer w-fit px-8 py-4 pt-3 border-b border-r border-l border-neutral-500 rounded-b-[95%]">see more</label>
      <div class="seperator text-subcaption text-center px-8 md:pb-10 pb-6 border-b border-b-neutral-500 w-full rounded-b-full scale-x-115">*core tech: solid buttons; secondary tech: outlined badges; minimal interaction: white badges</div>
      <div class="collapsible flex flex-col md:gap-10 gap-8">
        {finalProj.map((project) => (
        <ProjDisplay project = {project}/>
        ))}
      </div>
    </div>
  </div>
</div>

<style>
  @reference 'tailwindcss';

  .collapsible {
    opacity: 1;
    position: relative;
    display: none;
    transition: opacity 0.5s ease, display 0.5s ease allow-discrete;
  }

  @starting-style {
    .collapsible {
      opacity: 0;
    }
  }

  input[type=checkbox]:checked + label + div + .collapsible {
    display: flex;
  }

  input[type=checkbox]:checked + label + .seperator {
    @apply md:mt-10 mt-8
  }
</style>
